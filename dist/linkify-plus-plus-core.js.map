{"version":3,"file":"linkify-plus-plus-core.js","sources":["../lib/url-matcher.js","../node_modules/event-lite/event-lite.js","../lib/linkifier.js"],"sourcesContent":["var tlds = require(\"./tlds.json\"),\r\n\tRE = {\r\n\t\tPROTOCOL: \"([a-z][-a-z*]+://)?\",\r\n\t\tUSER: \"(?:([\\\\w:.+-]+)@)?\",\r\n\t\tDOMAIN_UNI: `([a-z0-9-.\\\\u00A0-\\\\uFFFF]+\\\\.[a-z0-9-${tlds.chars}]{1,${tlds.maxLength}})`,\r\n\t\tDOMAIN: `([a-z0-9-.]+\\\\.[a-z0-9-]{1,${tlds.maxLength}})`,\r\n\t\tPORT: \"(:\\\\d+\\\\b)?\",\r\n\t\tPATH_UNI: \"([/?#]\\\\S*)?\",\r\n\t\tPATH: \"([/?#][\\\\w-.~!$&*+;=:@%/?#(),'\\\\[\\\\]]*)?\"\r\n\t},\r\n\tTLD_TABLE = tlds.table;\r\n\r\nfunction regexEscape(text) {\r\n\treturn text.replace(/[[\\]\\\\^-]/g, \"\\\\$&\");\r\n}\r\n\r\nfunction buildRegex({\r\n\tunicode = false, customRules = [], standalone = false,\r\n\tboundaryLeft, boundaryRight\r\n}) {\r\n\tvar pattern = RE.PROTOCOL + RE.USER;\r\n\t\r\n\tif (unicode) {\r\n\t\tpattern += RE.DOMAIN_UNI + RE.PORT + RE.PATH_UNI;\r\n\t} else {\r\n\t\tpattern += RE.DOMAIN + RE.PORT + RE.PATH;\r\n\t}\r\n\t\r\n\tif (customRules.length) {\r\n\t\tpattern = \"(?:\" + pattern + \"|(\" + customRules.join(\"|\") + \"))\";\r\n\t} else {\r\n\t\tpattern += \"()\";\r\n\t}\r\n\t\r\n\tvar prefix, suffix, invalidSuffix;\r\n\tif (standalone) {\r\n\t\tif (boundaryLeft) {\r\n\t\t\tprefix = \"((?:^|\\\\s)[\" + regexEscape(boundaryLeft) + \"]*?)\";\r\n\t\t} else {\r\n\t\t\tprefix = \"(^|\\\\s)\";\r\n\t\t}\r\n\t\tif (boundaryRight) {\r\n\t\t\tsuffix = \"([\" + regexEscape(boundaryRight) + \"]*(?:$|\\\\s))\";\r\n\t\t} else {\r\n\t\t\tsuffix = \"($|\\\\s)\";\r\n\t\t}\r\n\t\tinvalidSuffix = \"[^\\\\s\" + regexEscape(boundaryRight) + \"]\";\r\n\t} else {\r\n\t\tprefix = \"(^|\\\\b|_)\";\r\n\t\tsuffix = \"()\";\r\n\t}\r\n\t\r\n\tpattern = prefix + pattern + suffix;\r\n\t\r\n\treturn {\r\n\t\turl: new RegExp(pattern, \"igm\"),\r\n\t\tinvalidSuffix: invalidSuffix && new RegExp(invalidSuffix),\r\n\t\tmustache: /\\{\\{[\\s\\S]+?\\}\\}/g\r\n\t};\r\n}\r\n\r\nfunction pathStrip(m, re, repl) {\r\n\tvar s = m.path.replace(re, repl);\r\n\r\n\tif (s == m.path) return;\r\n\t\r\n\tm.end -= m.path.length - s.length;\r\n\tm.suffix = m.path.slice(s.length) + m.suffix;\r\n\tm.path = s;\r\n}\r\n\r\nfunction pathStripQuote(m, c) {\r\n\tvar i = 0, s = m.path, end, pos = 0;\r\n\t\r\n\tif (!s.endsWith(c)) return;\r\n\t\r\n\twhile ((pos = s.indexOf(c, pos)) >= 0) {\r\n\t\tif (i % 2) {\r\n\t\t\tend = null;\r\n\t\t} else {\r\n\t\t\tend = pos;\r\n\t\t}\r\n\t\tpos++;\r\n\t\ti++;\r\n\t}\r\n\t\r\n\tif (!end) return;\r\n\t\r\n\tm.end -= s.length - end;\r\n\tm.path = s.slice(0, end);\r\n\tm.suffix = s.slice(end) + m.suffix;\r\n}\r\n\r\nfunction pathStripBrace(m, left, right) {\r\n\tvar str = m.path,\r\n\t\tre = new RegExp(\"[\\\\\" + left + \"\\\\\" + right + \"]\", \"g\"),\r\n\t\tmatch, count = 0, end;\r\n\r\n\t// Match loop\r\n\twhile ((match = re.exec(str))) {\r\n\t\tif (count % 2 == 0) {\r\n\t\t\tend = match.index;\r\n\t\t\tif (match[0] == right) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (match[0] == left) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcount++;\r\n\t}\r\n\r\n\tif (!match && count % 2 == 0) {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tm.end -= m.path.length - end;\r\n\tm.path = str.slice(0, end);\r\n\tm.suffix = str.slice(end) + m.suffix;\r\n}\r\n\r\nfunction isIP(s) {\r\n\tvar m, i;\r\n\tif (!(m = s.match(/^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/))) {\r\n\t\treturn false;\r\n\t}\r\n\tfor (i = 1; i < m.length; i++) {\r\n\t\tif (+m[i] > 255 || (m[i].length > 1 && m[i][0] == \"0\")) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction isDomain(d) {\r\n\treturn /^[^.-]/.test(d) && d.indexOf(\"..\") < 0;\r\n}\r\n\r\nfunction inTLDS(domain) {\r\n\tvar match = domain.match(/\\.([^.]+)$/);\r\n\tif (!match) {\r\n\t\treturn false;\r\n\t}\r\n\tvar key = match[1].toLowerCase();\r\n\treturn TLD_TABLE.hasOwnProperty(key);\r\n}\r\n\r\nclass UrlMatcher {\r\n\tconstructor(options = {}) {\r\n\t\tthis.options = options;\r\n\t\tthis.regex = buildRegex(options);\r\n\t}\r\n\t\r\n\t*match(text) {\r\n\t\tvar {\r\n\t\t\t\tfuzzyIp = true,\r\n\t\t\t\tignoreMustache = false\r\n\t\t\t} = this.options,\r\n\t\t\t{\r\n\t\t\t\turl,\r\n\t\t\t\tinvalidSuffix,\r\n\t\t\t\tmustache\r\n\t\t\t} = this.regex,\r\n\t\t\turlLastIndex, mustacheLastIndex;\r\n\t\t\t\r\n\t\tmustache.lastIndex = 0;\r\n\t\turl.lastIndex = 0;\r\n\t\t\r\n\t\tvar mustacheMatch, mustacheRange;\r\n\t\tif (ignoreMustache) {\r\n\t\t\tmustacheMatch = mustache.exec(text);\r\n\t\t\tif (mustacheMatch) {\r\n\t\t\t\tmustacheRange = {\r\n\t\t\t\t\tstart: mustacheMatch.index,\r\n\t\t\t\t\tend: mustache.lastIndex\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar urlMatch;\r\n\t\twhile ((urlMatch = url.exec(text))) {\r\n\t\t\tvar result;\r\n\t\t\tif (urlMatch[7]) {\r\n\t\t\t\t// custom rules\r\n\t\t\t\tresult = {\r\n\t\t\t\t\tstart: urlMatch.index,\r\n\t\t\t\t\tend: url.lastIndex,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext: urlMatch[0],\r\n\t\t\t\t\turl: urlMatch[0],\r\n\t\t\t\t\t\r\n\t\t\t\t\tcustom: urlMatch[7]\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tresult = {\r\n\t\t\t\t\tstart: urlMatch.index + urlMatch[1].length,\r\n\t\t\t\t\tend: url.lastIndex - urlMatch[8].length,\r\n\t\t\t\t\t\r\n\t\t\t\t\ttext: null,\r\n\t\t\t\t\turl: null,\r\n\t\t\t\t\t\r\n\t\t\t\t\tprefix: urlMatch[1],\r\n\t\t\t\t\tprotocol: urlMatch[2],\r\n\t\t\t\t\tauth: urlMatch[3] || \"\",\r\n\t\t\t\t\tdomain: urlMatch[4],\r\n\t\t\t\t\tport: urlMatch[5] || \"\",\r\n\t\t\t\t\tpath: urlMatch[6] || \"\",\r\n\t\t\t\t\tcustom: urlMatch[7],\r\n\t\t\t\t\tsuffix: urlMatch[8]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (mustacheRange && mustacheRange.end <= result.start) {\r\n\t\t\t\tmustacheMatch = mustache.exec(text);\r\n\t\t\t\tif (mustacheMatch) {\r\n\t\t\t\t\tmustacheRange.start = mustacheMatch.index;\r\n\t\t\t\t\tmustacheRange.end = mustache.lastIndex;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmustacheRange = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// ignore urls inside mustache pair\r\n\t\t\tif (mustacheRange && result.start < mustacheRange.end && result.end >= mustacheRange.start) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!result.custom) {\r\n\t\t\t\t// adjust path and suffix\r\n\t\t\t\tif (result.path) {\r\n\t\t\t\t\t// Strip BBCode\r\n\t\t\t\t\tpathStrip(result, /\\[\\/?(b|i|u|url|img|quote|code|size|color)\\].*/i, \"\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Strip braces\r\n\t\t\t\t\tpathStripBrace(result, \"(\", \")\");\r\n\t\t\t\t\tpathStripBrace(result, \"[\", \"]\");\r\n\t\t\t\t\tpathStripBrace(result, \"{\", \"}\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Strip quotes\r\n\t\t\t\t\tpathStripQuote(result, \"'\");\r\n\t\t\t\t\tpathStripQuote(result, '\"');\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Remove trailing \".,?\"\r\n\t\t\t\t\tpathStrip(result, /(^|[^-_])[.,?]+$/, \"$1\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// check suffix\r\n\t\t\t\tif (invalidSuffix && invalidSuffix.test(result.suffix)) {\r\n\t\t\t\t\tif (/\\s$/.test(result.suffix)) {\r\n\t\t\t\t\t\turl.lastIndex--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// check domain\r\n\t\t\t\tif (isIP(result.domain)) {\r\n\t\t\t\t\tif (!fuzzyIp && !result.protocol && !result.auth && !result.path) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (isDomain(result.domain)) {\r\n\t\t\t\t\tif (!inTLDS(result.domain)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// mailto protocol\r\n\t\t\t\tif (!result.protocol && result.auth) {\r\n\t\t\t\t\tvar matchMail = result.auth.match(/^mailto:(.+)/);\r\n\t\t\t\t\tif (matchMail) {\r\n\t\t\t\t\t\tresult.protocol = \"mailto:\";\r\n\t\t\t\t\t\tresult.auth = matchMail[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// http alias\r\n\t\t\t\tif (result.protocol && result.protocol.match(/^(hxxp|h\\*\\*p|ttp)/)) {\r\n\t\t\t\t\tresult.protocol = \"http://\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// guess protocol\r\n\t\t\t\tif (!result.protocol) {\r\n\t\t\t\t\tvar domainMatch;\r\n\t\t\t\t\tif ((domainMatch = result.domain.match(/^(ftp|irc)/))) {\r\n\t\t\t\t\t\tresult.protocol = domainMatch[0] + \"://\";\r\n\t\t\t\t\t} else if (result.domain.match(/^(www|web)/)) {\r\n\t\t\t\t\t\tresult.protocol = \"http://\";\r\n\t\t\t\t\t} else if (result.auth && result.auth.indexOf(\":\") < 0 && !result.path) {\r\n\t\t\t\t\t\tresult.protocol = \"mailto:\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresult.protocol = \"http://\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create URL\r\n\t\t\t\tresult.url = result.protocol + (result.auth && result.auth + \"@\") + result.domain + result.port + result.path;\r\n\t\t\t\tresult.text = text.slice(result.start, result.end);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// since regex is shared with other parse generators, cache lastIndex position and restore later\r\n\t\t\tmustacheLastIndex = mustache.lastIndex;\r\n\t\t\turlLastIndex = url.lastIndex;\r\n\t\t\t\r\n\t\t\tyield result;\r\n\t\t\t\r\n\t\t\turl.lastIndex = urlLastIndex;\r\n\t\t\tmustache.lastIndex = mustacheLastIndex;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = {\r\n\tUrlMatcher\r\n};\r\n","/**\n * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)\n *\n * @copyright Yusuke Kawasaki\n * @license MIT\n * @constructor\n * @see https://github.com/kawanet/event-lite\n * @see http://kawanet.github.io/event-lite/EventLite.html\n * @example\n * var EventLite = require(\"event-lite\");\n *\n * function MyClass() {...}             // your class\n *\n * EventLite.mixin(MyClass.prototype);  // import event methods\n *\n * var obj = new MyClass();\n * obj.on(\"foo\", function() {...});     // add event listener\n * obj.once(\"bar\", function() {...});   // add one-time event listener\n * obj.emit(\"foo\");                     // dispatch event\n * obj.emit(\"bar\");                     // dispatch another event\n * obj.off(\"foo\");                      // remove event listener\n */\n\nfunction EventLite() {\n  if (!(this instanceof EventLite)) return new EventLite();\n}\n\n(function(EventLite) {\n  // export the class for node.js\n  if (\"undefined\" !== typeof module) module.exports = EventLite;\n\n  // property name to hold listeners\n  var LISTENERS = \"listeners\";\n\n  // methods to export\n  var methods = {\n    on: on,\n    once: once,\n    off: off,\n    emit: emit\n  };\n\n  // mixin to self\n  mixin(EventLite.prototype);\n\n  // export mixin function\n  EventLite.mixin = mixin;\n\n  /**\n   * Import on(), once(), off() and emit() methods into target object.\n   *\n   * @function EventLite.mixin\n   * @param target {Prototype}\n   */\n\n  function mixin(target) {\n    for (var key in methods) {\n      target[key] = methods[key];\n    }\n    return target;\n  }\n\n  /**\n   * Add an event listener.\n   *\n   * @function EventLite.prototype.on\n   * @param type {string}\n   * @param func {Function}\n   * @returns {EventLite} Self for method chaining\n   */\n\n  function on(type, func) {\n    getListeners(this, type).push(func);\n    return this;\n  }\n\n  /**\n   * Add one-time event listener.\n   *\n   * @function EventLite.prototype.once\n   * @param type {string}\n   * @param func {Function}\n   * @returns {EventLite} Self for method chaining\n   */\n\n  function once(type, func) {\n    var that = this;\n    wrap.originalListener = func;\n    getListeners(that, type).push(wrap);\n    return that;\n\n    function wrap() {\n      off.call(that, type, wrap);\n      func.apply(this, arguments);\n    }\n  }\n\n  /**\n   * Remove an event listener.\n   *\n   * @function EventLite.prototype.off\n   * @param [type] {string}\n   * @param [func] {Function}\n   * @returns {EventLite} Self for method chaining\n   */\n\n  function off(type, func) {\n    var that = this;\n    var listners;\n    if (!arguments.length) {\n      delete that[LISTENERS];\n    } else if (!func) {\n      listners = that[LISTENERS];\n      if (listners) {\n        delete listners[type];\n        if (!Object.keys(listners).length) return off.call(that);\n      }\n    } else {\n      listners = getListeners(that, type, true);\n      if (listners) {\n        listners = listners.filter(ne);\n        if (!listners.length) return off.call(that, type);\n        that[LISTENERS][type] = listners;\n      }\n    }\n    return that;\n\n    function ne(test) {\n      return test !== func && test.originalListener !== func;\n    }\n  }\n\n  /**\n   * Dispatch (trigger) an event.\n   *\n   * @function EventLite.prototype.emit\n   * @param type {string}\n   * @param [value] {*}\n   * @returns {boolean} True when a listener received the event\n   */\n\n  function emit(type, value) {\n    var that = this;\n    var listeners = getListeners(that, type, true);\n    if (!listeners) return false;\n    var arglen = arguments.length;\n    if (arglen === 1) {\n      listeners.forEach(zeroarg);\n    } else if (arglen === 2) {\n      listeners.forEach(onearg);\n    } else {\n      var args = Array.prototype.slice.call(arguments, 1);\n      listeners.forEach(moreargs);\n    }\n    return !!listeners.length;\n\n    function zeroarg(func) {\n      func.call(that);\n    }\n\n    function onearg(func) {\n      func.call(that, value);\n    }\n\n    function moreargs(func) {\n      func.apply(that, args);\n    }\n  }\n\n  /**\n   * @ignore\n   */\n\n  function getListeners(that, type, readonly) {\n    if (readonly && !that[LISTENERS]) return;\n    var listeners = that[LISTENERS] || (that[LISTENERS] = {});\n    return listeners[type] || (listeners[type] = []);\n  }\n\n})(EventLite);\n","/* eslint-env browser */\r\n\r\nvar Events = require(\"event-lite\");\r\n\r\nvar INVALID_TAGS = {\r\n\ta: true,\r\n\tnoscript: true,\r\n\toption: true,\r\n\tscript: true,\r\n\tstyle: true,\r\n\ttextarea: true,\r\n\tsvg: true,\r\n\tcanvas: true,\r\n\tbutton: true,\r\n\tselect: true,\r\n\ttemplate: true,\r\n\tmeter: true,\r\n\tprogress: true,\r\n\tmath: true,\r\n\ttime: true\r\n};\r\n\r\nclass Pos {\r\n\tconstructor(container, offset, i = 0) {\r\n\t\tthis.container = container;\r\n\t\tthis.offset = offset;\r\n\t\tthis.i = i;\r\n\t}\r\n\t\r\n\tadd(change) {\r\n\t\tvar cont = this.container,\r\n\t\t\toffset = this.offset;\r\n\r\n\t\tthis.i += change;\r\n\t\t\r\n\t\t// If the container is #text.parentNode\r\n\t\tif (cont.childNodes.length) {\r\n\t\t\tcont = cont.childNodes[offset];\r\n\t\t\toffset = 0;\r\n\t\t}\r\n\r\n\t\t// If the container is #text\r\n\t\twhile (cont) {\r\n\t\t\tif (cont.nodeType == 3) {\r\n\t\t\t\tif (!cont.LEN) {\r\n\t\t\t\t\tcont.LEN = cont.nodeValue.length;\r\n\t\t\t\t}\r\n\t\t\t\tif (offset + change <= cont.LEN) {\r\n\t\t\t\t\tthis.container = cont;\r\n\t\t\t\t\tthis.offset = offset + change;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tchange = offset + change - cont.LEN;\r\n\t\t\t\toffset = 0;\r\n\t\t\t}\r\n\t\t\tcont = cont.nextSibling;\r\n\t\t}\r\n\t}\r\n\t\r\n\tmoveTo(offset) {\r\n\t\tthis.add(offset - this.i);\r\n\t}\r\n}\r\n\r\nfunction cloneContents(range) {\r\n\tif (range.startContainer == range.endContainer) {\r\n\t\treturn document.createTextNode(range.toString());\r\n\t}\r\n\treturn range.cloneContents();\r\n}\r\n\r\nvar DEFAULT_OPTIONS = {\r\n\tmaxRunTime: 100,\r\n\ttimeout: 10000,\r\n\tnewTab: true,\r\n\tnoOpener: true,\r\n\tembedImage: true\r\n};\r\n\r\nclass Linkifier extends Events {\r\n\tconstructor(root, options = {}) {\r\n\t\tsuper();\r\n\t\tif (!(root instanceof Node)) {\r\n\t\t\toptions = root;\r\n\t\t\troot = options.root;\r\n\t\t}\r\n\t\tthis.root = root;\r\n\t\tthis.options = Object.assign({}, DEFAULT_OPTIONS, options);\r\n\t\tthis.aborted = false;\r\n\t}\r\n\tstart() {\r\n\t\tvar time = Date.now,\r\n\t\t\tstartTime = time(),\r\n\t\t\tchunks = this.generateChunks();\r\n\t\t\t\r\n\t\tvar next = () => {\r\n\t\t\tif (this.aborted) {\r\n\t\t\t\tthis.emit(\"error\", new Error(\"Aborted\"));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar chunkStart = time(),\r\n\t\t\t\tnow;\r\n\t\t\t\t\r\n\t\t\tdo {\r\n\t\t\t\tif (chunks.next().done) {\r\n\t\t\t\t\tthis.emit(\"complete\", time() - startTime);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} while ((now = time()) - chunkStart < this.options.maxRunTime);\r\n\t\t\t\r\n\t\t\tif (now - startTime > this.options.timeout) {\r\n\t\t\t\tthis.emit(\"error\", new Error(`max execution time exceeded: ${now - startTime}, on ${this.root}`));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsetTimeout(next);\r\n\t\t};\r\n\t\t\t\r\n\t\tsetTimeout(next);\r\n\t}\r\n\tabort() {\r\n\t\tthis.aborted = true;\r\n\t}\r\n\t*generateRanges() {\r\n\t\tvar {validator} = this.options;\r\n\t\tvar filter = {\r\n\t\t\tacceptNode: function(node) {\r\n\t\t\t\tif (validator && !validator(node)) {\r\n\t\t\t\t\treturn NodeFilter.FILTER_REJECT;\r\n\t\t\t\t}\r\n\t\t\t\tif (INVALID_TAGS[node.localName]) {\r\n\t\t\t\t\treturn NodeFilter.FILTER_REJECT;\r\n\t\t\t\t}\r\n\t\t\t\tif (node.localName == \"wbr\") {\r\n\t\t\t\t\treturn NodeFilter.FILTER_ACCEPT;\r\n\t\t\t\t}\r\n\t\t\t\tif (node.nodeType == 3) {\r\n\t\t\t\t\treturn NodeFilter.FILTER_ACCEPT;\r\n\t\t\t\t}\r\n\t\t\t\treturn NodeFilter.FILTER_SKIP;\r\n\t\t\t}\r\n\t\t};\r\n\t\t// Generate linkified ranges.\r\n\t\tvar walker = document.createTreeWalker(\r\n\t\t\tthis.root,\r\n\t\t\tNodeFilter.SHOW_TEXT + NodeFilter.SHOW_ELEMENT,\r\n\t\t\tfilter\r\n\t\t), start, end, current, range;\r\n\r\n\t\tend = start = walker.nextNode();\r\n\t\tif (!start) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trange = document.createRange();\r\n\t\trange.setStartBefore(start);\r\n\t\twhile ((current = walker.nextNode())) {\r\n\t\t\tif (end.nextSibling == current) {\r\n\t\t\t\tend = current;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\trange.setEndAfter(end);\r\n\t\t\tyield range;\r\n\r\n\t\t\tend = start = current;\r\n\t\t\trange.setStartBefore(start);\r\n\t\t}\r\n\t\trange.setEndAfter(end);\r\n\t\tyield range;\r\n\t}\r\n\t*generateChunks() {\r\n\t\tvar {matcher} = this.options;\r\n\t\tfor (var range of this.generateRanges()) {\r\n\t\t\tvar frag = null,\r\n\t\t\t\tpos = null,\r\n\t\t\t\ttext = range.toString(),\r\n\t\t\t\ttextRange = null;\r\n\t\t\tfor (var result of matcher.match(text)) {\r\n\t\t\t\tif (!frag) {\r\n\t\t\t\t\tfrag = document.createDocumentFragment();\r\n\t\t\t\t\tpos = new Pos(range.startContainer, range.startOffset);\r\n\t\t\t\t\ttextRange = range.cloneRange();\r\n\t\t\t\t}\r\n\t\t\t\t// clone text\r\n\t\t\t\tpos.moveTo(result.start);\r\n\t\t\t\ttextRange.setEnd(pos.container, pos.offset);\r\n\t\t\t\tfrag.appendChild(cloneContents(textRange));\r\n\t\t\t\t\r\n\t\t\t\t// clone link\r\n\t\t\t\ttextRange.collapse();\r\n\t\t\t\tpos.moveTo(result.end);\r\n\t\t\t\ttextRange.setEnd(pos.container, pos.offset);\r\n\t\t\t\t\r\n\t\t\t\tvar content = cloneContents(textRange),\r\n\t\t\t\t\tlink = this.buildLink(result, content);\r\n\r\n\t\t\t\ttextRange.collapse();\r\n\r\n\t\t\t\tfrag.appendChild(link);\r\n\t\t\t\tthis.emit(\"link\", {link, range, result, content});\r\n\t\t\t}\r\n\t\t\tif (pos) {\r\n\t\t\t\tpos.moveTo(text.length);\r\n\t\t\t\ttextRange.setEnd(pos.container, pos.offset);\r\n\t\t\t\tfrag.appendChild(cloneContents(textRange));\r\n\t\t\t\t\r\n\t\t\t\trange.deleteContents();\r\n\t\t\t\trange.insertNode(frag);\r\n\t\t\t}\r\n\t\t\tyield;\r\n\t\t}\r\n\t}\r\n\tbuildLink(result, content) {\r\n\t\tvar {newTab, embedImage, noOpener} = this.options;\r\n\t\tvar link = document.createElement(\"a\");\r\n\t\tlink.href = result.url;\r\n\t\tlink.title = \"Linkify Plus Plus\";\r\n\t\tlink.className = \"linkifyplus\";\r\n\t\tif (newTab) {\r\n\t\t\tlink.target = \"_blank\";\r\n\t\t}\r\n\t\tif (noOpener) {\r\n\t\t\tlink.rel = \"noopener\";\r\n\t\t}\r\n\t\tvar child;\r\n\t\tif (embedImage && /^[^?#]+\\.(?:jpg|png|gif|jpeg|svg)(?:$|[?#])/i.test(result.url)) {\r\n\t\t\tchild = new Image;\r\n\t\t\tchild.src = result.url;\r\n\t\t\tchild.alt = result.text;\r\n\t\t} else {\r\n\t\t\tchild = content;\r\n\t\t}\r\n\t\tlink.appendChild(child);\r\n\t\treturn link;\r\n\t}\r\n}\r\n\r\nfunction linkify(...args) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tvar linkifier = new Linkifier(...args);\r\n\t\tlinkifier.on(\"error\", reject);\r\n\t\tlinkifier.on(\"complete\", resolve);\r\n\t\tfor (var key of Object.keys(linkifier.options)) {\r\n\t\t\tif (key.startsWith(\"on\")) {\r\n\t\t\t\tlinkifier.on(key.slice(2), linkifier.options[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tlinkifier.start();\r\n\t});\r\n}\r\n\r\nmodule.exports = {\r\n\tINVALID_TAGS,\r\n\tLinkifier,\r\n\tlinkify\r\n};\r\n"],"names":["tlds.chars","tlds.maxLength","tlds.table"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}